(function(){$(function(){var e,a;return Spree.addImageHandlers=function(){var e;return e=$("#product-images ul.thumbnails"),$("#main-image").data("selectedThumb",$("#main-image img").attr("src")),e.find("li").eq(0).addClass("selected"),e.find("a").on("click",function(a){return $("#main-image").data("selectedThumb",$(a.currentTarget).attr("href")),$("#main-image").data("selectedThumbId",$(a.currentTarget).parent().attr("id")),e.find("li").removeClass("selected"),$(a.currentTarget).parent("li").addClass("selected"),!1}),e.find("li").on("mouseenter",function(e){return $("#main-image img").attr("src",$(e.currentTarget).find("a").attr("href"))}),e.find("li").on("mouseleave",function(){return $("#main-image img").attr("src",$("#main-image").data("selectedThumb"))})},Spree.showVariantImages=function(e){var a,t,i;return $("li.vtmb").hide(),$("li.tmb-"+e).show(),a=$("#"+$("#main-image").data("selectedThumbId")),a.hasClass("vtmb-"+e)?void 0:(i=$($("#product-images ul.thumbnails li:visible.vtmb").eq(0)),i.length>0||(i=$($("#product-images ul.thumbnails li:visible").eq(0))),t=i.find("a").attr("href"),$("#product-images ul.thumbnails li").removeClass("selected"),i.addClass("selected"),$("#main-image img").attr("src",t),$("#main-image").data("selectedThumb",t),$("#main-image").data("selectedThumbId",i.attr("id")))},Spree.updateVariantPrice=function(e){var a;return a=e.data("price"),a?$(".price.selling").text(a):void 0},e=$('#product-variants input[type="radio"]'),e.length>0&&(a=$('#product-variants input[type="radio"][checked="checked"]'),Spree.showVariantImages(a.attr("value")),Spree.updateVariantPrice(a)),Spree.addImageHandlers(),e.click(function(){return Spree.showVariantImages(this.value),Spree.updateVariantPrice($(this))})})}).call(this);